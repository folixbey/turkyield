local player = game.Players.LocalPlayer
local userInputService = game:GetService("UserInputService")

-- GUI Oluşturma
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
local toggleButton = Instance.new("TextButton", screenGui)
local infoLabel = Instance.new("TextLabel", screenGui)

-- Toggle Butonu Ayarları
toggleButton.Size = UDim2.new(0, 100, 0, 50)
toggleButton.Position = UDim2.new(0, 10, 0, 10)
toggleButton.Text = "Aktif Et"
toggleButton.Draggable = true

-- Info Label Ayarları
infoLabel.Size = UDim2.new(0, 300, 0, 50)
infoLabel.Position = UDim2.new(0, 10, 0, 70)
infoLabel.Text = "Tıklanan GUI Elemanının İsmi: "
infoLabel.TextColor3 = Color3.new(1, 1, 1)
infoLabel.BackgroundColor3 = Color3.new(0, 0, 0)
infoLabel.BackgroundTransparency = 0.5
infoLabel.Visible = false
infoLabel.Draggable = true

local active = false

-- GUI Elemanına Tıklama İşlevi
local function onGuiElementClicked(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 and active then
        local target = player.PlayerGui:GetGuiObjectsAtPosition(input.Position.X, input.Position.Y)
        if #target > 0 then
            local guiElement = target[1]
            infoLabel.Text = "Tıklanan GUI Elemanının İsmi: " .. guiElement.Name
            infoLabel.Visible = true
        end
    end
end

-- Toggle Butonu İşlevi
toggleButton.MouseButton1Click:Connect(function()
    active = not active
    toggleButton.Text = active and "Deaktif Et" or "Aktif Et"
    if not active then
        infoLabel.Visible = false
    end
end)

-- Kullanıcı Girişi Dinleyicisi
userInputService.InputBegan:Connect(onGuiElementClicked)
