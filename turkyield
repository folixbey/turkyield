local UIS = game:GetService("UserInputService")
local char = game.Players.LocalPlayer.Character

-- Uçma fonksiyonu
local function fly()
    char.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0) -- Hız sıfırlama

    -- Tuşlara basıldığında hareket
    UIS.InputBegan:Connect(function(input, state)
        if input:GetKeyState("W") then
            char.HumanoidRootPart.Velocity = char.HumanoidRootPart.Velocity + Vector3.new(0, 0, 1) * 50
        elseif input:GetKeyState("S") then
            char.HumanoidRootPart.Velocity = char.HumanoidRootPart.Velocity - Vector3.new(0, 0, 1) * 50
        elseif input:GetKeyState("A") then
            char.HumanoidRootPart.Velocity = char.HumanoidRootPart.Velocity + Vector3.new(-1, 0, 0) * 50
        elseif input:GetKeyState("D") then
            char.HumanoidRootPart.Velocity = char.HumanoidRootPart.Velocity + Vector3.new(1, 0, 0) * 50
        end
    end)
end

-- İnme fonksiyonu
local function unfly()
    char.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0) -- Hız sıfırlama

    -- Tuşlara basıldığında hareket durdurma
    UIS.InputBegan:DisconnectAll()
end

-- Düğmeler (GUI gereklidir)
local flyButton = script.Parent:FindFirstChild("FlyButton") -- Buton referansını değiştirin
local unflyButton = script.Parent:FindFirstChild("UnflyButton") -- Buton referansını değiştirin

if flyButton then
    flyButton.MouseButton1Click:Connect(fly)
end

if unflyButton then
    unflyButton.MouseButton1Click:Connect(unfly)
end
